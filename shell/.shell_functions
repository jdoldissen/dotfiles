#!/bin/env zsh

# Get colors in manual pages
man() {
	env \
		LESS_TERMCAP_mb="$(printf '\e[1;31m')" \
		LESS_TERMCAP_md="$(printf '\e[1;31m')" \
		LESS_TERMCAP_me="$(printf '\e[0m')" \
		LESS_TERMCAP_se="$(printf '\e[0m')" \
		LESS_TERMCAP_so="$(printf '\e[1;44;33m')" \
		LESS_TERMCAP_ue="$(printf '\e[0m')" \
		LESS_TERMCAP_us="$(printf '\e[1;32m')" \
		man "$@"
}

# Login to an aws ecr repository in Sydney
awsDockerLogin() {
    if [ "$#" -ne 1 ]; then
        echo "Pass in the aws id"
        return 1
    fi

    awsId=$1
    region="ap-southeast-2"
    aws ecr get-login-password --region $region | docker login --username AWS --password-stdin ${awsId}.dkr.ecr.${region}.amazonaws.com
}
